!function(e){var t={};function n(d){if(t[d])return t[d].exports;var c=t[d]={i:d,l:!1,exports:{}};return e[d].call(c.exports,c,c.exports,n),c.l=!0,c.exports}n.m=e,n.c=t,n.d=function(e,t,d){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:d})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var d=Object.create(null);if(n.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)n.d(d,c,function(t){return e[t]}.bind(null,c));return d},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var d={projects:[]};var c=function(e){return{title:e,tasks:[]}};var r={taskFactory:function(e,t,n,d){return{name:e,dueDate:t,priority:n,description:d}}};var a={addTask:(()=>{const e=(e,t,n,c)=>{let a=document.querySelector(".selected").getAttribute("data-index");d.projects[a].tasks.push(r.taskFactory(e,t,n,c))};return{addListener:()=>{const t=document.querySelector(".add-task-btn"),n=document.querySelector(".last-task");t.addEventListener("click",()=>{const t=document.querySelector(".project"),d=document.createElement("div");d.classList.add("task"),t.insertBefore(d,n);const c=document.createElement("form");c.setAttribute("method","get"),c.setAttribute("action",""),c.setAttribute("name","add-task");const r=document.createElement("input");r.type="text",r.name="name",r.id="name",r.placeholder="Name";const a=document.createElement("input");a.type="text",a.name="dueDate",a.id="dueDate",a.placeholder="dueDate";const s=document.createElement("input");s.type="text",s.name="priority",s.id="priority",s.placeholder="priority";const i=document.createElement("input");i.type="text",i.name="description",i.id="description",i.placeholder="description";const l=document.createElement("button");l.classList.add("submit"),l.type="button",l.textContent="submit",d.appendChild(c),c.appendChild(r),c.appendChild(a),c.appendChild(s),c.appendChild(i),c.appendChild(l),l.addEventListener("click",()=>{let t=document.getElementById("name").value,n=document.getElementById("dueDate").value,d=document.getElementById("priority").value,c=document.getElementById("description").value;e(t,n,d,c);let r=document.querySelector(".selected").getAttribute("data-index");o.projectView(r)})})},listExistingTasks:e=>{const t=document.querySelector(".project"),n=document.createElement("div");n.classList.add("task");const d=document.createElement("div");d.classList.add("name"),d.textContent=e.name,n.appendChild(d);const c=document.createElement("div");c.classList.add("dueDate"),c.textContent=e.dueDate,n.appendChild(c);const r=document.createElement("div");r.classList.add("priority"),r.textContent=e.priority,n.appendChild(r);const a=document.createElement("div");a.classList.add("description"),a.textContent=e.description,n.appendChild(a),t.appendChild(n)}}})()};var o={projectView:e=>{const t=d.projects[e].tasks,n=document.querySelector(".container");n.innerHTML="";const c=document.createElement("div");c.classList.add("project"),n.appendChild(c);const r=e=>{a.addTask.listExistingTasks(e)};t.length>0&&t.forEach(r);const o=document.createElement("div");o.classList.add("task"),o.classList.add("last-task"),c.appendChild(o);const s=document.createElement("button");s.classList.add("add-task-btn"),s.textContent="+",o.appendChild(s),a.addTask.addListener()}};var s=e=>{console.log("before delete"+d.projects),console.log(e);document.querySelector(`[data-index="${e}"]`).remove(),d.projects.splice(e,1,""),console.log("after delete"+d.projects);const t=document.querySelector(".project-tabs").firstElementChild,n=document.querySelector(".selected");n&&n.classList.remove("selected"),t.classList.add("selected");const c=t.getAttribute("data-index");o.projectView(c)};var i={addProject:(()=>{const e=(()=>{const e=document.querySelector(".add-project-btn"),n=document.querySelector(".last-tab");e.addEventListener("click",()=>{const e=document.querySelector(".project-tabs"),c=document.createElement("div");c.classList.add("tab");document.querySelector(".selected").classList.remove("selected"),c.classList.add("selected");const r=d.projects.length;c.setAttribute("data-index",r);const a=prompt("New project name?");c.textContent=a;const i=document.createElement("button");i.classList.add("delete"),i.textContent="X",c.appendChild(i),e.insertBefore(c,n),t(a),o.projectView(r),c.addEventListener("click",e=>{if(e.target.classList.contains("tab")){let t=e.target.dataset.index;document.querySelector(".selected").classList.remove("selected"),e.target.classList.add("selected"),o.projectView(t)}}),i.addEventListener("click",e=>{let t=e.target.parentElement.getAttribute("data-index");s(t)})})})(),t=e=>{let t=c(e);d.projects.push(t)};return{addListener:e,createProject:t}})()};const l=document.querySelector(".last-tab"),u=document.querySelector(".project-tabs"),p=document.createElement("div");p.classList.add("tab"),p.classList.add("selected");const m=d.projects.length;p.setAttribute("data-index",m);p.textContent="General";const y=document.createElement("button");y.classList.add("delete"),y.textContent="X",p.appendChild(y),u.insertBefore(p,l),i.addProject.createProject("General"),o.projectView(m),p.addEventListener("click",e=>{let t=e.target.dataset.index;document.querySelector(".selected").classList.remove("selected"),e.target.classList.add("selected"),o.projectView(t)})}]);