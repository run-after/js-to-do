!function(e){var t={};function n(d){if(t[d])return t[d].exports;var a=t[d]={i:d,l:!1,exports:{}};return e[d].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,d){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:d})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var d=Object.create(null);if(n.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(d,a,function(t){return e[t]}.bind(null,a));return d},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";let d;n.r(t),d=localStorage.getItem("projects")?JSON.parse(localStorage.getItem("projects")):[];var a={projects:d};var c=function(e){return{title:e,tasks:[]}};var r=()=>{localStorage.clear(),localStorage.setItem("projects",JSON.stringify(a.projects))};var o=e=>{let t=c(e);a.projects.push(t),r()};var i={taskFactory:function(e,t,n,d){return{name:e,dueDate:t,priority:n,description:d}}};var s=(e,t,n,d)=>{let c=document.querySelector(".selected").getAttribute("data-index");a.projects[c].tasks.push(i.taskFactory(e,t,n,d)),r()};var l=(e,t)=>{const n=a.projects[e];document.querySelector(`[data-task-index="${t}"]`).remove(),n.tasks.splice(t,1,null),r()};var u=(e,t,n,d,c,o)=>{const i=a.projects[c].tasks[o];i.name=e,i.dueDate=t,i.priority=n,i.description=d,r()};var p=(e,t)=>{const n=a.projects[t].tasks[e],d=document.querySelector(`[data-task-index="${e}"]`),c=n.name,r=n.dueDate,o=n.priority,i=n.description;d.remove();const s=document.querySelector(".last-task"),l=document.querySelector(`[data-task-index="${Number(e)+1}"]`),p=document.querySelector(".project"),m=document.createElement("div");m.classList.add("task"),l?p.insertBefore(m,l):p.insertBefore(m,s);const b=document.createElement("form");b.setAttribute("method","get"),b.setAttribute("action",""),b.setAttribute("name","add-task");const v=document.createElement("input");v.type="text",v.name="name",v.id="name",v.value=c;const E=document.createElement("span");E.textContent="Due date: ",E.classList.add("date-label");const h=document.createElement("input");h.type="date",h.name="dueDate",h.id="dueDate",h.valueAsDate=new Date(r);const g=document.createElement("div");g.classList.add("priority"),g.textContent="Priority:";const C=document.createElement("br");g.appendChild(C);const f=document.createElement("input");f.type="radio","Low"==o&&(f.checked="checked"),f.name="priority",f.id="low",f.value="Low";const L=document.createElement("label");L.setAttribute("for","priority"),L.textContent="Low";const x=document.createElement("input");x.type="radio",x.name="priority",x.id="med",x.value="Medium","Medium"==o&&(x.checked="checked");const k=document.createElement("label");k.setAttribute("for","priority"),k.textContent="Med";const j=document.createElement("input");j.type="radio",j.name="priority",j.id="high",j.value="High","High"==o&&(j.checked="checked");const S=document.createElement("label");S.setAttribute("for","priority"),S.textContent="High";const A=document.createElement("textarea");A.rows="4",A.cols="30",A.name="description",A.id="description",A.value=i;const q=document.createElement("button");q.classList.add("submit"),q.type="button",q.textContent="submit",m.appendChild(b),b.appendChild(v),b.appendChild(E),b.appendChild(h),g.appendChild(L),g.appendChild(f),g.appendChild(k),g.appendChild(x),g.appendChild(S),g.appendChild(j),b.appendChild(g),b.appendChild(A),b.appendChild(q),q.addEventListener("click",()=>{const n=document.getElementById("name").value;let d=document.getElementById("dueDate").value,a=document.querySelectorAll("input[name='priority']");for(const e of a)e.checked&&(a=e.value);const c=document.getElementById("description").value;if(n&&d&&c){u(n,d,a,c,t,e);let r=document.querySelector(".selected").getAttribute("data-index");y.projectView(r)}else alert("Must fill out all fields!")})};var m={addTaskToDOM:{addListener:()=>{const e=document.querySelector(".add-task-btn"),t=document.querySelector(".last-task");e.addEventListener("click",()=>{const e=document.querySelector(".project"),n=document.createElement("div");n.classList.add("task"),e.insertBefore(n,t);const d=document.createElement("form");d.setAttribute("method","get"),d.setAttribute("action",""),d.setAttribute("name","add-task");const a=document.createElement("input");a.type="text",a.name="name",a.id="name",a.placeholder="Name";const c=document.createElement("span");c.textContent="Due date: ",c.classList.add("date-label");const r=document.createElement("input");r.type="date",r.name="dueDate",r.id="dueDate",r.valueAsDate=new Date;const o=document.createElement("div");o.classList.add("priority"),o.textContent="Priority:";const i=document.createElement("br");o.appendChild(i);const l=document.createElement("input");l.type="radio",l.checked="checked",l.name="priority",l.id="low",l.value="Low";const u=document.createElement("label");u.setAttribute("for","priority"),u.textContent="Low";const p=document.createElement("input");p.type="radio",p.name="priority",p.id="med",p.value="Medium";const m=document.createElement("label");m.setAttribute("for","priority"),m.textContent="Med";const b=document.createElement("input");b.type="radio",b.name="priority",b.id="high",b.value="High";const v=document.createElement("label");v.setAttribute("for","priority"),v.textContent="High";const E=document.createElement("textarea");E.rows="4",E.cols="30",E.name="description",E.id="description",E.placeholder="description";const h=document.createElement("button");h.classList.add("submit"),h.type="button",h.textContent="submit",n.appendChild(d),d.appendChild(a),d.appendChild(c),d.appendChild(r),o.appendChild(u),o.appendChild(l),o.appendChild(m),o.appendChild(p),o.appendChild(v),o.appendChild(b),d.appendChild(o),d.appendChild(E),d.appendChild(h),h.addEventListener("click",()=>{const e=document.getElementById("name").value;let t=document.getElementById("dueDate").value,n=document.querySelectorAll("input[name='priority']");for(const e of n)e.checked&&(n=e.value);const d=document.getElementById("description").value;if(e&&t&&d){s(e,t,n,d);let a=document.querySelector(".selected").getAttribute("data-index");y.projectView(a)}else e||(document.getElementById("name").style.background="red"),d||(document.getElementById("description").style.background="red")})})},listExistingTasks:(e,t,n)=>{if(e){const d=document.querySelector(".project"),c=document.createElement("div"),r=document.createElement("div");r.textContent="âœŽ",r.classList.add("edit");const o=document.createElement("div");o.textContent="X",o.classList.add("delete"),c.classList.add("task"),c.setAttribute("data-task-index",t),c.setAttribute("data-project-index",n);const i=document.createElement("div");i.classList.add("name"),i.textContent=e.name,c.appendChild(r),c.appendChild(o),c.appendChild(i);const s=document.createElement("div");s.classList.add("dueDate"),s.textContent="Due on: "+e.dueDate,c.appendChild(s);const u=document.createElement("div");u.classList.add("priority"),u.textContent="Priority: "+e.priority,"Low"==e.priority?c.style.background="rgb(127, 191, 63)":"Medium"==e.priority?c.style.background="rgb(255, 252, 117)":c.style.background="rgb(255, 112, 114)",c.appendChild(u);const m=document.createElement("div");m.classList.add("description"),m.textContent="Description: "+e.description,c.appendChild(m),d.appendChild(c),o.addEventListener("click",e=>{const t=e.target.parentElement.getAttribute("data-task-index");l(n,t)}),r.addEventListener("click",e=>{const t=e.target.parentElement.getAttribute("data-task-index"),n=e.target.parentElement.getAttribute("data-project-index");a.projects[n].tasks[t],p(t,n)})}}}};var y={projectView:e=>{const t=a.projects[e].tasks,n=document.querySelector(".container");n.innerHTML="";const d=document.createElement("div");d.classList.add("project"),n.appendChild(d);const c=(t,n)=>{m.addTaskToDOM.listExistingTasks(t,n,e)};t.length>0&&t.forEach(c);const r=document.createElement("div");r.classList.add("task"),r.classList.add("last-task"),d.appendChild(r);const o=document.createElement("button");o.classList.add("add-task-btn"),o.textContent="+",r.appendChild(o),m.addTaskToDOM.addListener()}};var b={addProjectToDOM:(()=>{const e=()=>{const e=document.querySelector(".last-tab"),t=document.querySelector(".project-tabs"),d=document.createElement("div");d.classList.add("tab"),n(d);const c=a.projects.length;d.setAttribute("data-index",c);const r=prompt("New project name?");d.textContent=r;const i=document.createElement("button");i.classList.add("delete"),i.textContent="X",d.appendChild(i),t.insertBefore(d,e),o(r),y.projectView(c),d.addEventListener("click",e=>{if(e.target.classList.contains("tab")){let t=e.target.dataset.index;n(e.target),y.projectView(t)}}),r||v.removeProject(c),i.addEventListener("click",e=>{const t=e.target.parentElement.getAttribute("data-index");v.removeProject(t)})},t=void document.querySelector(".add-project-btn").addEventListener("click",e),n=e=>{document.querySelector(".selected").classList.remove("selected"),e.classList.add("selected")};return{addListener:t,createProjectTab:e}})()};var v={removeProject:e=>{document.querySelector(`[data-index="${e}"]`).remove(),a.projects.splice(e,1,null);const t=document.querySelector(".selected");t&&t.classList.remove("selected");const n=document.querySelector(".project-tabs").firstElementChild;n.classList.add("selected");const d=n.getAttribute("data-index");d?y.projectView(d):b.addProjectToDOM.createProjectTab(),r()}};(()=>{if(a.projects.length>0){a.projects.forEach((e,t)=>{if(e){const n=document.querySelector(".last-tab"),d=document.querySelector(".project-tabs"),a=document.createElement("div");a.classList.add("tab"),a.setAttribute("data-index",t),a.textContent=e.title;const c=document.createElement("button");c.classList.add("delete"),c.textContent="X",a.appendChild(c),d.insertBefore(a,n),a.addEventListener("click",e=>{if(e.target.classList.contains("tab")){document.querySelector(".selected").classList.remove("selected"),e.target.classList.add("selected");const t=e.target.dataset.index;y.projectView(t)}}),c.addEventListener("click",e=>{let t=e.target.parentElement.getAttribute("data-index");v.removeProject(t)})}});const e=document.querySelector(".project-tabs").firstElementChild,t=e.getAttribute("data-index");e.classList.add("selected"),y.projectView(t)}else{const e=e=>{let t=c(e);a.projects.push(t)},t=document.querySelector(".last-tab"),n=document.querySelector(".project-tabs"),d=document.createElement("div");d.classList.add("tab"),d.classList.add("selected");const r=a.projects.length;d.setAttribute("data-index",r);const o="General";d.textContent=o;const i=document.createElement("button");i.classList.add("delete"),i.textContent="X",d.appendChild(i),n.insertBefore(d,t),e(o),y.projectView(r),d.addEventListener("click",e=>{if(e.target.classList.contains("tab")){document.querySelector(".selected").classList.remove("selected"),e.target.classList.add("selected");const t=e.target.dataset.index;y.projectView(t)}}),i.addEventListener("click",e=>{let t=e.target.parentElement.getAttribute("data-index");v.removeProject(t)})}})()}]);